/*
 * Copyright (C) 2022 Frank Mertens.
 *
 * Distribution and use is allowed under the terms of the zlib license
 * (see cc/LICENSE-zlib).
 *
 */

#pragma once

#include <cc/View>

namespace cc {

/** \class StackView cc/StackView
  * \ingroup ui
  * \brief Screen navigation stack
  */
class StackView final: public View
{
public:
    /** Create a primordial stack view
      */
    StackView();

    /** Create a new stack view of given size and return a weak reference to it
      */
    StackView(double width, double height);

    /** Get a weak reference in \a self
      */
    StackView &associate(Out<StackView> self);

    /** Push a new screen onto the stack
      */
    StackView &push(const View &screen);

    /** Remove the current screen from the stack
      */
    void pop();

    /** Go to the first screen push onto the stack and remove all other screens thereafter
      */
    void home();

    /** Current number of screens
      */
    int count() const;

    /** %Set easing for screen transition
      */
    StackView &easing(const EasingCurve &easing, double duration);

private:
    struct State;

    const View &carrier() const;

    State &me();
    const State &me() const;
};

} // namespace cc
