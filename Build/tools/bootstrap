#!/bin/sh -ex
SOURCE=$1
MACHINE=$(gcc -dumpmachine)
cat $SOURCE/Core/src/base64.cc $SOURCE/Core/src/ServerSocket.cc $SOURCE/Core/src/TransferLimiter.cc $SOURCE/Core/src/Version.cc $SOURCE/Core/src/Date.cc $SOURCE/Core/src/Utf8Source.cc $SOURCE/Core/src/MetaError.cc $SOURCE/Core/src/SignalMaster.cc $SOURCE/Core/src/SignalNumber.cc $SOURCE/Core/src/MemoryStream.cc $SOURCE/Core/src/Variant.cc $SOURCE/Core/src/Process.cc $SOURCE/Core/src/ByteSource.cc $SOURCE/Core/src/ReplaySource.cc $SOURCE/Core/src/input.cc $SOURCE/Core/src/Format.cc $SOURCE/Core/src/String.cc $SOURCE/Core/src/Color.cc $SOURCE/Core/src/ResourceContext.cc $SOURCE/Core/src/DatagramSocket.cc $SOURCE/Core/src/LineSource.cc $SOURCE/Core/src/VariantType.cc $SOURCE/Core/src/Resource.cc $SOURCE/Core/src/TextError.cc $SOURCE/Core/src/PropertyBinding.cc $SOURCE/Core/src/Stream.cc $SOURCE/Core/src/Crc32Sink.cc $SOURCE/Core/src/NullStream.cc $SOURCE/Core/src/PointerIntegrity.cc $SOURCE/Core/src/File.cc $SOURCE/Core/src/TempFile.cc $SOURCE/Core/src/Arguments.cc $SOURCE/Core/src/StreamTap.cc $SOURCE/Core/src/ResourcePath.cc $SOURCE/Core/src/TapBuffer.cc $SOURCE/Core/src/Dir.cc $SOURCE/Core/src/WaitCondition.cc $SOURCE/Core/src/IoStream.cc $SOURCE/Core/src/exceptions.cc $SOURCE/Core/src/Utf16Source.cc $SOURCE/Core/src/Utf8Sink.cc $SOURCE/Core/src/ByteSink.cc $SOURCE/Core/src/Utf16Sink.cc $SOURCE/Core/src/ResourceGuard.cc $SOURCE/Core/src/Command.cc $SOURCE/Core/src/HexDump.cc $SOURCE/Core/src/MetaProtocol.cc $SOURCE/Core/src/IoMonitor.cc $SOURCE/Core/src/Thread.cc $SOURCE/Core/src/MetaObject.cc $SOURCE/Core/src/Mutex.cc $SOURCE/Core/src/DirWalk.cc $SOURCE/Core/src/Entity.cc $SOURCE/Core/src/ClientSocket.cc $SOURCE/Core/src/Socket.cc $SOURCE/Core/src/ResourceManager.cc $SOURCE/Core/src/YasonWriter.cc $SOURCE/Core/src/StreamMultiplexer.cc $SOURCE/Core/src/LocalChannel.cc $SOURCE/Core/src/str.cc $SOURCE/Core/src/bundling.cc $SOURCE/Core/src/SystemError.cc $SOURCE/Core/src/CaptureSink.cc $SOURCE/Core/src/FileInfo.cc $SOURCE/Core/src/SocketAddress.cc $SOURCE/Core/src/MetaPrototype.cc $SOURCE/Core/src/System.cc $SOURCE/Core/src/LineBuffer.cc $SOURCE/Core/src/JsonWriter.cc $SOURCE/Core/src/Exception.cc $SOURCE/Core/src/TransferMeter.cc $SOURCE/Core/src/SpinLock.cc $SOURCE/Core/src/ReadWriteLock.cc $SOURCE/Core/src/buckets/BucketTree.cc > $SOURCE/Core/src/.lump.cc
cat $SOURCE/Build/src/BuildParameters.cc $SOURCE/Build/src/CodyWorker.cc $SOURCE/Build/src/JobServer.cc $SOURCE/Build/src/ImportManager.cc $SOURCE/Build/src/ConfigureStage.cc $SOURCE/Build/src/CodyMessage.cc $SOURCE/Build/src/GlobbingStage.cc $SOURCE/Build/src/BuildStageGuard.cc $SOURCE/Build/src/CompileLinkStage.cc $SOURCE/Build/src/BuildStage.cc $SOURCE/Build/src/CodyMessageSyntax.cc $SOURCE/Build/src/LinkJob.cc $SOURCE/Build/src/CodyServer.cc $SOURCE/Build/src/CodyTransport.cc $SOURCE/Build/src/RecipeProtocol.cc $SOURCE/Build/src/InstallStage.cc $SOURCE/Build/src/JobScheduler.cc $SOURCE/Build/src/Job.cc $SOURCE/Build/src/BuildShell.cc $SOURCE/Build/src/SystemPrerequisite.cc $SOURCE/Build/src/BuildMap.cc $SOURCE/Build/src/CodyBlockSource.cc $SOURCE/Build/src/InsightDatabase.cc $SOURCE/Build/src/TestRunStage.cc $SOURCE/Build/src/PreparationStage.cc $SOURCE/Build/src/GnuToolChain.cc $SOURCE/Build/src/BuildPlan.cc $SOURCE/Build/src/ConfigureShell.cc $SOURCE/Build/src/UninstallStage.cc > $SOURCE/Build/src/.lump.cc
cat $SOURCE/Syntax/src/PatternSyntax.cc $SOURCE/Syntax/src/yason.cc $SOURCE/Syntax/src/Pattern.cc $SOURCE/Syntax/src/InetAddressSyntax.cc $SOURCE/Syntax/src/UriSyntax.cc $SOURCE/Syntax/src/SyntaxRule.cc $SOURCE/Syntax/src/IntegerSyntax.cc $SOURCE/Syntax/src/Token.cc $SOURCE/Syntax/src/FloatSyntax.cc $SOURCE/Syntax/src/Uri.cc $SOURCE/Syntax/src/Glob.cc $SOURCE/Syntax/src/json.cc $SOURCE/Syntax/src/YasonSyntax.cc $SOURCE/Syntax/src/syntax_nodes/LongestChoiceNode.cc $SOURCE/Syntax/src/syntax_nodes/LookAheadNode.cc $SOURCE/Syntax/src/syntax_nodes/AnyNode.cc $SOURCE/Syntax/src/syntax_nodes/ChoiceNode.cc $SOURCE/Syntax/src/syntax_nodes/ReplayNode.cc $SOURCE/Syntax/src/syntax_nodes/EoiNode.cc $SOURCE/Syntax/src/syntax_nodes/RepeatNode.cc $SOURCE/Syntax/src/syntax_nodes/RangeMinMaxNode.cc $SOURCE/Syntax/src/syntax_nodes/RefNode.cc $SOURCE/Syntax/src/syntax_nodes/LengthNode.cc $SOURCE/Syntax/src/syntax_nodes/ExpectNode.cc $SOURCE/Syntax/src/syntax_nodes/SequenceNode.cc $SOURCE/Syntax/src/syntax_nodes/MatchNode.cc $SOURCE/Syntax/src/syntax_nodes/FindNode.cc $SOURCE/Syntax/src/syntax_nodes/PassNode.cc $SOURCE/Syntax/src/syntax_nodes/InlineNode.cc $SOURCE/Syntax/src/syntax_nodes/DebugNode.cc $SOURCE/Syntax/src/syntax_nodes/FindLastNode.cc $SOURCE/Syntax/src/syntax_nodes/StringNode.cc $SOURCE/Syntax/src/syntax_nodes/ContextNode.cc $SOURCE/Syntax/src/syntax_nodes/SyntaxNode.cc $SOURCE/Syntax/src/syntax_nodes/CharCompareNode.cc $SOURCE/Syntax/src/syntax_nodes/KeywordNode.cc $SOURCE/Syntax/src/syntax_nodes/FailNode.cc $SOURCE/Syntax/src/syntax_nodes/RangeExplicitNode.cc $SOURCE/Syntax/src/syntax_nodes/BoiNode.cc $SOURCE/Syntax/src/syntax_nodes/CaptureNode.cc $SOURCE/Syntax/src/csv/CsvFormat.cc $SOURCE/Syntax/src/csv/CsvSource.cc $SOURCE/Syntax/src/csv/CsvSyntax.cc > $SOURCE/Syntax/src/.lump.cc
mkdir -p .objects-EDFBBE42-$MACHINE-Core_src
g++ -c -o .objects-EDFBBE42-$MACHINE-Core_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=3.0.0 -D_GNU_SOURCE -Wno-psabi -std=gnu++23 -I$SOURCE/Core/src/include $SOURCE/Core/src/.lump.cc &
wait
g++ -o libCoreComponentsCore.so.3.0.0 -shared -pthread -Wl,-soname,libCoreComponentsCore.so.3 .objects-EDFBBE42-$MACHINE-Core_src/.lump.o -fPIC -flto=16 -O2 -L. -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsCore.so.3.0
rm -f libCoreComponentsCore.so.3
rm -f libCoreComponentsCore.so
ln -sf libCoreComponentsCore.so.3.0.0 libCoreComponentsCore.so.3.0
ln -sf libCoreComponentsCore.so.3.0.0 libCoreComponentsCore.so.3
ln -sf libCoreComponentsCore.so.3.0.0 libCoreComponentsCore.so
mkdir -p .objects-522E526E-$MACHINE-Syntax_src
g++ -c -o .objects-522E526E-$MACHINE-Syntax_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=3.0.0 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Syntax/src/include -I$SOURCE/Core/src/include $SOURCE/Syntax/src/.lump.cc &
wait
g++ -o libCoreComponentsSyntax.so.3.0.0 -shared -pthread -Wl,-soname,libCoreComponentsSyntax.so.3 .objects-522E526E-$MACHINE-Syntax_src/.lump.o -fPIC -flto=16 -O2 -L. -lCoreComponentsCore -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsSyntax.so.3.0
rm -f libCoreComponentsSyntax.so.3
rm -f libCoreComponentsSyntax.so
ln -sf libCoreComponentsSyntax.so.3.0.0 libCoreComponentsSyntax.so.3.0
ln -sf libCoreComponentsSyntax.so.3.0.0 libCoreComponentsSyntax.so.3
ln -sf libCoreComponentsSyntax.so.3.0.0 libCoreComponentsSyntax.so
mkdir -p .objects-08B1DBD9-$MACHINE-Build_src
g++ -c -o .objects-08B1DBD9-$MACHINE-Build_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=3.0.0 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Build/src/include -I$SOURCE/Core/src/include -I$SOURCE/Syntax/src/include $SOURCE/Build/src/.lump.cc &
wait
g++ -o libCoreComponentsBuild.so.3.0.0 -shared -pthread -Wl,-soname,libCoreComponentsBuild.so.3 .objects-08B1DBD9-$MACHINE-Build_src/.lump.o -fPIC -flto=16 -O2 -L. -lCoreComponentsCore -lCoreComponentsSyntax -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsBuild.so.3.0
rm -f libCoreComponentsBuild.so.3
rm -f libCoreComponentsBuild.so
ln -sf libCoreComponentsBuild.so.3.0.0 libCoreComponentsBuild.so.3.0
ln -sf libCoreComponentsBuild.so.3.0.0 libCoreComponentsBuild.so.3
ln -sf libCoreComponentsBuild.so.3.0.0 libCoreComponentsBuild.so
mkdir -p .objects-58F6D3A0-$MACHINE-Build_tools
g++ -o ccbuild -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=3.0.0 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Core/src/include -I$SOURCE/Build/src/include -pthread $SOURCE/Build/tools/ccbuild.cc -fPIC -pie -flto=16 -O2 -L. -lCoreComponentsCore -lCoreComponentsBuild -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN' &
wait
