#!/bin/sh -ex
SOURCE=$1
MACHINE=$(gcc -dumpmachine)
CXX=/usr/bin/g++
cat $SOURCE/Core/src/base64.cc $SOURCE/Core/src/ServerSocket.cc $SOURCE/Core/src/TransferLimiter.cc $SOURCE/Core/src/Version.cc $SOURCE/Core/src/Date.cc $SOURCE/Core/src/Utf8Source.cc $SOURCE/Core/src/SignalMaster.cc $SOURCE/Core/src/SignalNumber.cc $SOURCE/Core/src/MemoryStream.cc $SOURCE/Core/src/Variant.cc $SOURCE/Core/src/Process.cc $SOURCE/Core/src/ByteSource.cc $SOURCE/Core/src/ReplaySource.cc $SOURCE/Core/src/input.cc $SOURCE/Core/src/Format.cc $SOURCE/Core/src/String.cc $SOURCE/Core/src/Color.cc $SOURCE/Core/src/ResourceContext.cc $SOURCE/Core/src/DatagramSocket.cc $SOURCE/Core/src/LineSource.cc $SOURCE/Core/src/VariantType.cc $SOURCE/Core/src/Bundle.cc $SOURCE/Core/src/Resource.cc $SOURCE/Core/src/TextError.cc $SOURCE/Core/src/PropertyBinding.cc $SOURCE/Core/src/Stream.cc $SOURCE/Core/src/Crc32Sink.cc $SOURCE/Core/src/NullStream.cc $SOURCE/Core/src/PointerIntegrity.cc $SOURCE/Core/src/File.cc $SOURCE/Core/src/TempFile.cc $SOURCE/Core/src/Arguments.cc $SOURCE/Core/src/StreamTap.cc $SOURCE/Core/src/ResourcePath.cc $SOURCE/Core/src/TapBuffer.cc $SOURCE/Core/src/Dir.cc $SOURCE/Core/src/WaitCondition.cc $SOURCE/Core/src/IoStream.cc $SOURCE/Core/src/exceptions.cc $SOURCE/Core/src/Utf16Source.cc $SOURCE/Core/src/Utf8Sink.cc $SOURCE/Core/src/ByteSink.cc $SOURCE/Core/src/Utf16Sink.cc $SOURCE/Core/src/ResourceGuard.cc $SOURCE/Core/src/Command.cc $SOURCE/Core/src/HexDump.cc $SOURCE/Core/src/IoMonitor.cc $SOURCE/Core/src/Thread.cc $SOURCE/Core/src/Mutex.cc $SOURCE/Core/src/DirWalk.cc $SOURCE/Core/src/Entity.cc $SOURCE/Core/src/ClientSocket.cc $SOURCE/Core/src/Socket.cc $SOURCE/Core/src/ResourceManager.cc $SOURCE/Core/src/StreamMultiplexer.cc $SOURCE/Core/src/LocalChannel.cc $SOURCE/Core/src/str.cc $SOURCE/Core/src/SystemError.cc $SOURCE/Core/src/CaptureSink.cc $SOURCE/Core/src/FileInfo.cc $SOURCE/Core/src/SocketAddress.cc $SOURCE/Core/src/System.cc $SOURCE/Core/src/LineBuffer.cc $SOURCE/Core/src/Exception.cc $SOURCE/Core/src/TransferMeter.cc $SOURCE/Core/src/SpinLock.cc $SOURCE/Core/src/ReadWriteLock.cc $SOURCE/Core/src/buckets/BucketTree.cc > $SOURCE/Core/src/.lump.cc
cat $SOURCE/Meta/src/MetaError.cc $SOURCE/Meta/src/yason.cc $SOURCE/Meta/src/MetaProtocol.cc $SOURCE/Meta/src/MetaObject.cc $SOURCE/Meta/src/YasonWriter.cc $SOURCE/Meta/src/json.cc $SOURCE/Meta/src/MetaPrototype.cc $SOURCE/Meta/src/YasonSyntax.cc $SOURCE/Meta/src/JsonWriter.cc > $SOURCE/Meta/src/.lump.cc
cat $SOURCE/Syntax/src/LongestChoiceNode.cc $SOURCE/Syntax/src/LookAheadNode.cc $SOURCE/Syntax/src/AnyNode.cc $SOURCE/Syntax/src/ChoiceNode.cc $SOURCE/Syntax/src/ReplayNode.cc $SOURCE/Syntax/src/EoiNode.cc $SOURCE/Syntax/src/RepeatNode.cc $SOURCE/Syntax/src/InetAddressSyntax.cc $SOURCE/Syntax/src/RangeMinMaxNode.cc $SOURCE/Syntax/src/RefNode.cc $SOURCE/Syntax/src/LengthNode.cc $SOURCE/Syntax/src/UriSyntax.cc $SOURCE/Syntax/src/ExpectNode.cc $SOURCE/Syntax/src/SequenceNode.cc $SOURCE/Syntax/src/MatchNode.cc $SOURCE/Syntax/src/SyntaxRule.cc $SOURCE/Syntax/src/IntegerSyntax.cc $SOURCE/Syntax/src/FindNode.cc $SOURCE/Syntax/src/PassNode.cc $SOURCE/Syntax/src/Token.cc $SOURCE/Syntax/src/InlineNode.cc $SOURCE/Syntax/src/DebugNode.cc $SOURCE/Syntax/src/FindLastNode.cc $SOURCE/Syntax/src/StringNode.cc $SOURCE/Syntax/src/ContextNode.cc $SOURCE/Syntax/src/FloatSyntax.cc $SOURCE/Syntax/src/SyntaxNode.cc $SOURCE/Syntax/src/CharCompareNode.cc $SOURCE/Syntax/src/KeywordNode.cc $SOURCE/Syntax/src/FailNode.cc $SOURCE/Syntax/src/RangeExplicitNode.cc $SOURCE/Syntax/src/BoiNode.cc $SOURCE/Syntax/src/CaptureNode.cc > $SOURCE/Syntax/src/.lump.cc
cat $SOURCE/Build/src/BuildParameters.cc $SOURCE/Build/src/CodyWorker.cc $SOURCE/Build/src/DependencyFile.cc $SOURCE/Build/src/JobServer.cc $SOURCE/Build/src/ImportManager.cc $SOURCE/Build/src/ConfigureStage.cc $SOURCE/Build/src/CodyMessage.cc $SOURCE/Build/src/GlobbingStage.cc $SOURCE/Build/src/BuildStageGuard.cc $SOURCE/Build/src/CompileLinkStage.cc $SOURCE/Build/src/BuildStage.cc $SOURCE/Build/src/CodyMessageSyntax.cc $SOURCE/Build/src/LinkJob.cc $SOURCE/Build/src/CodyServer.cc $SOURCE/Build/src/CodyTransport.cc $SOURCE/Build/src/RecipeProtocol.cc $SOURCE/Build/src/InstallStage.cc $SOURCE/Build/src/JobScheduler.cc $SOURCE/Build/src/Job.cc $SOURCE/Build/src/BuildShell.cc $SOURCE/Build/src/SystemPrerequisite.cc $SOURCE/Build/src/BuildMap.cc $SOURCE/Build/src/CodyBlockSource.cc $SOURCE/Build/src/InsightDatabase.cc $SOURCE/Build/src/TestRunStage.cc $SOURCE/Build/src/PreparationStage.cc $SOURCE/Build/src/GnuToolChain.cc $SOURCE/Build/src/BuildPlan.cc $SOURCE/Build/src/ConfigureShell.cc $SOURCE/Build/src/UninstallStage.cc > $SOURCE/Build/src/.lump.cc
cat $SOURCE/Glob/src/PatternSyntax.cc $SOURCE/Glob/src/Pattern.cc $SOURCE/Glob/src/Uri.cc $SOURCE/Glob/src/Glob.cc > $SOURCE/Glob/src/.lump.cc
mkdir -p .objects-5CF18B7A-$MACHINE-Core_src
$CXX -c -o .objects-5CF18B7A-$MACHINE-Core_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=2.4.1 -D_GNU_SOURCE -Wno-psabi -std=gnu++23 -I$SOURCE/Core/src/include $SOURCE/Core/src/.lump.cc &
wait
$CXX -o libCoreComponentsCore.so.2.4.1 -shared -pthread -Wl,-soname,libCoreComponentsCore.so.2 .objects-5CF18B7A-$MACHINE-Core_src/.lump.o -fPIC -flto=$(nproc) -O2 -L. -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsCore.so.2.4
rm -f libCoreComponentsCore.so.2
rm -f libCoreComponentsCore.so
ln -sf libCoreComponentsCore.so.2.4.1 libCoreComponentsCore.so.2.4
ln -sf libCoreComponentsCore.so.2.4.1 libCoreComponentsCore.so.2
ln -sf libCoreComponentsCore.so.2.4.1 libCoreComponentsCore.so
mkdir -p .objects-13029BBC-$MACHINE-Syntax_src
$CXX -c -o .objects-13029BBC-$MACHINE-Syntax_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=2.4.1 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Syntax/src/include -I$SOURCE/Core/src/include $SOURCE/Syntax/src/.lump.cc &
wait
$CXX -o libCoreComponentsSyntax.so.2.4.1 -shared -pthread -Wl,-soname,libCoreComponentsSyntax.so.2 .objects-13029BBC-$MACHINE-Syntax_src/.lump.o -fPIC -flto=$(nproc) -O2 -L. -lCoreComponentsCore -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsSyntax.so.2.4
rm -f libCoreComponentsSyntax.so.2
rm -f libCoreComponentsSyntax.so
ln -sf libCoreComponentsSyntax.so.2.4.1 libCoreComponentsSyntax.so.2.4
ln -sf libCoreComponentsSyntax.so.2.4.1 libCoreComponentsSyntax.so.2
ln -sf libCoreComponentsSyntax.so.2.4.1 libCoreComponentsSyntax.so
mkdir -p .objects-CED283DB-$MACHINE-Meta_src
$CXX -c -o .objects-CED283DB-$MACHINE-Meta_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=2.4.1 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Meta/src/include -I$SOURCE/Core/src/include -I$SOURCE/Syntax/src/include $SOURCE/Meta/src/.lump.cc &
mkdir -p .objects-E43B5248-$MACHINE-Glob_src
$CXX -c -o .objects-E43B5248-$MACHINE-Glob_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=2.4.1 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Glob/src/include -I$SOURCE/Core/src/include -I$SOURCE/Syntax/src/include $SOURCE/Glob/src/.lump.cc &
wait
$CXX -o libCoreComponentsMeta.so.2.4.1 -shared -pthread -Wl,-soname,libCoreComponentsMeta.so.2 .objects-CED283DB-$MACHINE-Meta_src/.lump.o -fPIC -flto=$(nproc) -O2 -L. -lCoreComponentsCore -lCoreComponentsSyntax -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsMeta.so.2.4
rm -f libCoreComponentsMeta.so.2
rm -f libCoreComponentsMeta.so
ln -sf libCoreComponentsMeta.so.2.4.1 libCoreComponentsMeta.so.2.4
ln -sf libCoreComponentsMeta.so.2.4.1 libCoreComponentsMeta.so.2
ln -sf libCoreComponentsMeta.so.2.4.1 libCoreComponentsMeta.so
$CXX -o libCoreComponentsGlob.so.2.4.1 -shared -pthread -Wl,-soname,libCoreComponentsGlob.so.2 .objects-E43B5248-$MACHINE-Glob_src/.lump.o -fPIC -flto=$(nproc) -O2 -L. -lCoreComponentsCore -lCoreComponentsSyntax -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsGlob.so.2.4
rm -f libCoreComponentsGlob.so.2
rm -f libCoreComponentsGlob.so
ln -sf libCoreComponentsGlob.so.2.4.1 libCoreComponentsGlob.so.2.4
ln -sf libCoreComponentsGlob.so.2.4.1 libCoreComponentsGlob.so.2
ln -sf libCoreComponentsGlob.so.2.4.1 libCoreComponentsGlob.so
mkdir -p .objects-20026972-$MACHINE-Build_src
$CXX -c -o .objects-20026972-$MACHINE-Build_src/.lump.o -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=2.4.1 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Build/src/include -I$SOURCE/Core/src/include -I$SOURCE/Syntax/src/include -I$SOURCE/Glob/src/include -I$SOURCE/Meta/src/include $SOURCE/Build/src/.lump.cc &
wait
$CXX -o libCoreComponentsBuild.so.2.4.1 -shared -pthread -Wl,-soname,libCoreComponentsBuild.so.2 .objects-20026972-$MACHINE-Build_src/.lump.o -fPIC -flto=$(nproc) -O2 -L. -lCoreComponentsCore -lCoreComponentsSyntax -lCoreComponentsGlob -lCoreComponentsMeta -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
rm -f libCoreComponentsBuild.so.2.4
rm -f libCoreComponentsBuild.so.2
rm -f libCoreComponentsBuild.so
ln -sf libCoreComponentsBuild.so.2.4.1 libCoreComponentsBuild.so.2.4
ln -sf libCoreComponentsBuild.so.2.4.1 libCoreComponentsBuild.so.2
ln -sf libCoreComponentsBuild.so.2.4.1 libCoreComponentsBuild.so
mkdir -p .objects-306A4C91-$MACHINE-Build_tools
$CXX -o ccbuild -DNDEBUG -O2 -flto -mtune=generic -fno-plt -fPIC -Wall -pthread -pipe -D_FILE_OFFSET_BITS=64 -fvisibility-inlines-hidden -ffile-prefix-map=$SOURCE=src -DCCBUILD_BUNDLE_VERSION=2.4.1 -std=gnu++23 -Wno-psabi -D_GNU_SOURCE -I$SOURCE/Core/src/include -I$SOURCE/Meta/src/include -I$SOURCE/Build/src/include -pthread $SOURCE/Build/tools/ccbuild.cc -fPIC -pie -flto=$(nproc) -O2 -L. -lCoreComponentsCore -lCoreComponentsMeta -lCoreComponentsBuild -Wl,--enable-new-dtags,-rpath='$ORIGIN',-rpath='$ORIGIN'/../lib,-rpath-link='$ORIGIN'
