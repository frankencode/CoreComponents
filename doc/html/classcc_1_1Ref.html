<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Core Components: cc::Ref&lt; T &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Core Components
   &#160;<span id="projectnumber">0.6.3</span>
   </div>
   <div id="projectbrief">C++ system programming made easy</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecc.html">cc</a></li><li class="navelem"><a class="el" href="classcc_1_1Ref.html">Ref</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcc_1_1Ref-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cc::Ref&lt; T &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Object references  
 <a href="classcc_1_1Ref.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Ref_8h_source.html">Ref.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa5be74e4cd358deab354c396c949605d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5be74e4cd358deab354c396c949605d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Ref</b> (<a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&amp;b)</td></tr>
<tr class="separator:aa5be74e4cd358deab354c396c949605d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c439642bdfe86748da91d6cc5189f51"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4c439642bdfe86748da91d6cc5189f51"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Ref</b> (const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;b)</td></tr>
<tr class="separator:a4c439642bdfe86748da91d6cc5189f51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83b03e872dd92c5d7a0e9cf46066ffa7"><td class="memTemplParams" colspan="2"><a class="anchor" id="a83b03e872dd92c5d7a0e9cf46066ffa7"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:a83b03e872dd92c5d7a0e9cf46066ffa7"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Ref</b> (const <a class="el" href="classcc_1_1Ref.html">Ref</a>&lt; T2 &gt; &amp;b)</td></tr>
<tr class="separator:a83b03e872dd92c5d7a0e9cf46066ffa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a6d3576ae276065aead9563e4b9942"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab0a6d3576ae276065aead9563e4b9942"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Ref</b> (T *b)</td></tr>
<tr class="separator:ab0a6d3576ae276065aead9563e4b9942"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1c15c4fa6b2884b8ff58476a0e20ca"><td class="memTemplParams" colspan="2"><a class="anchor" id="a0f1c15c4fa6b2884b8ff58476a0e20ca"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:a0f1c15c4fa6b2884b8ff58476a0e20ca"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Ref</b> (T2 *b)</td></tr>
<tr class="separator:a0f1c15c4fa6b2884b8ff58476a0e20ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ae5920cc70894c60b94134b4c8960a"><td class="memTemplParams" colspan="2"><a class="anchor" id="ac8ae5920cc70894c60b94134b4c8960a"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:ac8ae5920cc70894c60b94134b4c8960a"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><b>Ref</b> (const T2 *b)</td></tr>
<tr class="separator:ac8ae5920cc70894c60b94134b4c8960a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c411de7e3e35cca4fd84704a2ecf342"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c411de7e3e35cca4fd84704a2ecf342"></a>
const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (<a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&amp;b)</td></tr>
<tr class="separator:a7c411de7e3e35cca4fd84704a2ecf342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fba46f7af4c5cb44692ada369234411"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3fba46f7af4c5cb44692ada369234411"></a>
const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;b)</td></tr>
<tr class="separator:a3fba46f7af4c5cb44692ada369234411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad941eef9f287cbd3f2fa7931b5f8266f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad941eef9f287cbd3f2fa7931b5f8266f"></a>
const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (T *b)</td></tr>
<tr class="separator:ad941eef9f287cbd3f2fa7931b5f8266f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc7e6a5c29a4ac6c35578034d46b3f5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abfc7e6a5c29a4ac6c35578034d46b3f5"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>operator T *</b> () const </td></tr>
<tr class="separator:abfc7e6a5c29a4ac6c35578034d46b3f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a188175e5e377bdc56827a62aa03886d0"><td class="memTemplParams" colspan="2"><a class="anchor" id="a188175e5e377bdc56827a62aa03886d0"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:a188175e5e377bdc56827a62aa03886d0"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator=</b> (T2 *b)</td></tr>
<tr class="separator:a188175e5e377bdc56827a62aa03886d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e995718bf66ff0b8b1ce1096958f830"><td class="memTemplParams" colspan="2"><a class="anchor" id="a0e995718bf66ff0b8b1ce1096958f830"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:a0e995718bf66ff0b8b1ce1096958f830"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator=</b> (const T2 *b)</td></tr>
<tr class="separator:a0e995718bf66ff0b8b1ce1096958f830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae82777e2fcfe44acf0a66b9f16d9a384"><td class="memTemplParams" colspan="2"><a class="anchor" id="ae82777e2fcfe44acf0a66b9f16d9a384"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:ae82777e2fcfe44acf0a66b9f16d9a384"><td class="memTemplItemLeft" align="right" valign="top">const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classcc_1_1Ref.html">Ref</a>&lt; T2 &gt; &amp;b)</td></tr>
<tr class="separator:ae82777e2fcfe44acf0a66b9f16d9a384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c1d820d24333609d2427ce17480d32"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae8c1d820d24333609d2427ce17480d32"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>operator&lt;</b> (const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;b) const </td></tr>
<tr class="separator:ae8c1d820d24333609d2427ce17480d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a535f877be5b7cd9cd1ae2780d4242a9e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a535f877be5b7cd9cd1ae2780d4242a9e"></a>
T &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator*</b> ()</td></tr>
<tr class="separator:a535f877be5b7cd9cd1ae2780d4242a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dc6be9196b1b1504c492898111e4a5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a2dc6be9196b1b1504c492898111e4a5d"></a>
T *&#160;</td><td class="memItemRight" valign="bottom"><b>operator-&gt;</b> ()</td></tr>
<tr class="separator:a2dc6be9196b1b1504c492898111e4a5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7dbeaa2c1d3eece188e63e20ed9913"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7e7dbeaa2c1d3eece188e63e20ed9913"></a>
const T *&#160;</td><td class="memItemRight" valign="bottom"><b>operator-&gt;</b> () const </td></tr>
<tr class="separator:a7e7dbeaa2c1d3eece188e63e20ed9913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b69eff728e115996902a0f424c0348a"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4b69eff728e115996902a0f424c0348a"></a>
T *&#160;</td><td class="memItemRight" valign="bottom"><b>get</b> () const </td></tr>
<tr class="separator:a4b69eff728e115996902a0f424c0348a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc2cf67017e2af27014eba8cfe968e35"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afc2cf67017e2af27014eba8cfe968e35"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>set</b> (T *b)</td></tr>
<tr class="separator:afc2cf67017e2af27014eba8cfe968e35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fcec8a9e33a7a13300851cda8da1057"><td class="memTemplParams" colspan="2"><a class="anchor" id="a5fcec8a9e33a7a13300851cda8da1057"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:a5fcec8a9e33a7a13300851cda8da1057"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcc_1_1Ref.html">Ref</a>&lt; T &gt; &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator&lt;&lt;</b> (T2 x)</td></tr>
<tr class="separator:a5fcec8a9e33a7a13300851cda8da1057"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c073a5fff66123f06502cb4b36d03e1"><td class="memTemplParams" colspan="2"><a class="anchor" id="a1c073a5fff66123f06502cb4b36d03e1"></a>
template&lt;class T2 &gt; </td></tr>
<tr class="memitem:a1c073a5fff66123f06502cb4b36d03e1"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classcc_1_1Ref.html">Ref</a>&lt; T &gt; &amp;&#160;</td><td class="memTemplItemRight" valign="bottom"><b>operator&gt;&gt;</b> (T2 &amp;x)</td></tr>
<tr class="separator:a1c073a5fff66123f06502cb4b36d03e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ab929381c9af69b6087eab16d5322c2e4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab929381c9af69b6087eab16d5322c2e4"></a>
static <a class="el" href="classcc_1_1Ref.html">Ref</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcc_1_1Ref.html#ab929381c9af69b6087eab16d5322c2e4">copy</a> (const <a class="el" href="classcc_1_1Ref.html">Ref</a> &amp;b)</td></tr>
<tr class="memdesc:ab929381c9af69b6087eab16d5322c2e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">helper method to support implicit deep copies of object lists <br /></td></tr>
<tr class="separator:ab929381c9af69b6087eab16d5322c2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T&gt;<br />
class cc::Ref&lt; T &gt;</h3>

<p>The <a class="el" href="classcc_1_1Ref.html" title="Object references ">Ref</a> template class implements object references that behave similiar to object references in higher level languages, like for instance Java. The references can be freely assigned and passed in places where a pointer to an object of compatible type is expected. In constrast to simple pointers type conversions on assignment are done automatically. Most of the time there shouldn't be a need to invoke C++'s lowlevel type casting functions manually. The only exception is if a reference is passed to an interface that would require an upcast in the type hierarchy. In this case you can use the cast&lt;T&gt;() helper function, which safely selects the proper low-level type cast. If the type compatiblity can only be resolved at compile time the reference will be assigned a null pointer in the same way a dynamic_cast would results in a null pointer, but knowledge of these low-level concepts is not required to use the <a class="el" href="classcc_1_1Ref.html" title="Object references ">Ref</a> class properly. The type T needs to be inherited from the <a class="el" href="classcc_1_1Object.html" title="Reference counting and secure destruction. ">Object</a> class, which provides the reference count for an object. The reference count starts with zero when the object is created and is incremented each time a new Ref&lt;T&gt; starts pointing to that object. In the same fasion the object's reference count is decremented whenever a Ref&lt;T&gt; stops pointing to that object. When the object's reference count reaches zero back again the object will be deleted automatically. Both reference counting and automatic destruction is guaranteed to be thread-safe. Whenever an object is created an initial reference should be created with it. Otherwise memory leaks might appear. Best practise is to use a named static constructor method and hide the C++ "constructor" (in reality the initializer) as a protected or private method. For instance see <a class="el" href="classcc_1_1File.html#ad363f73035faeb890b784f2de1ba6b80" title="Open a file. ">File::open()</a>. It also results in more flexible and more readable code. The <a class="el" href="classcc_1_1Ref.html" title="Object references ">Ref</a> template class does purposely not implement a copy-on-write (COW) strategy. This means objects, whose reference count is greater than 1, are not cloned automatically, when accessed in a modifying way. Objects have to be cloned manually and you have to be aware about the locality and thread-safety issues that arise as a consequence. For passing objects amoung threads best practise is to use the <a class="el" href="classcc_1_1Channel.html" title="Inter-thread communication channel. ">Channel</a> class and ensure that two threads never hold a reference to the same object at the same time (shared nothing architecture). If nevertheless objects need to be shared amoung threads at the same time (for instance a singleton) make sure those objects are immutable and cannot be modified accidentally after construction. The only copy automatism the <a class="el" href="classcc_1_1Ref.html" title="Object references ">Ref</a> template class implements is preemptive copy on assignment of a const pointer (const T *). In this case a T::copy(const T *) is called to create a copy of the of the object before assignment. This copying is needed because each Ref&lt;T&gt; allows modification of the referenced object.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classcc_1_1Singleton.html" title="Thread-safe process-wide singletons. ">Singleton</a> </dd></dl>

<p>Definition at line <a class="el" href="Ref_8h_source.html#l00055">55</a> of file <a class="el" href="Ref_8h_source.html">Ref.h</a>.</p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jul 25 2016 00:05:48 for Core Components by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
