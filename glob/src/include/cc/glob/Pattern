/*
 * Copyright (C) 2007-2017 Frank Mertens.
 *
 * Distribution and use is allowed under the terms of the zlib license
 * (see cc/LICENSE-zlib).
 *
 */

#pragma once

#include <cc/string>
#ifndef NDEBUG
#include <cc/syntax/SyntaxDebugger>
#endif
#include <cc/syntax/SyntaxDefinition>

namespace cc {
namespace glob {

using namespace cc::syntax;

/** \class Pattern cc/glob/Pattern
  * \brief Regular expression pattern
  * \see SyntaxDefinition
  */
class Pattern: public Ref<const SyntaxDefinition>
{
public:
    Pattern();

    Pattern(const char *text);
    Pattern(const string &text);
    Pattern(const variant &variant);

    const Pattern &operator=(const char *text);
    const Pattern &operator=(const string &text);
    const Pattern &operator=(const variant &text);

    operator string() const { return text_; }

private:
    friend string str(const Pattern &pattern);
    string text_;
};

string str(const Pattern &pattern);

}} // namespace cc::glob
